#!/usr/bin/env python3
import re

# Read the file
with open('backend/app/main.py', 'r', encoding='utf-8') as f:
    content = f.read()

# Define emoji replacements
emoji_replacements = {
    'ğŸš€': '',
    'ğŸ“¤': '',
    'ğŸ“–': '',
    'ğŸ“Š': '',
    'âš ï¸': 'WARNING:',
    'â˜ï¸': '',
    'ğŸ“‹': '',
    'ğŸ‰': '',
    'âŒ': 'ERROR:',
    'âœ…': 'SUCCESS:',
    'ğŸ”': '',
    'ğŸ“': '',
    'ğŸ“': '',
    'ğŸ¤–': '',
    'âš™ï¸': '',
    'ğŸ“„': '',
    'ğŸ’¾': '',
    'ğŸ”§': '',
    'ğŸ“ˆ': '',
    'ğŸ¯': '',
    'ğŸ”„': '',
    'ğŸ’¡': '',
    'ğŸŒŸ': '',
    'ğŸŠ': '',
    'ğŸ”¥': '',
    'â­': '',
    'ğŸª': '',
    'ğŸ­': '',
    'ğŸ¨': '',
    'ğŸµ': '',
    'ğŸ¶': '',
    'ğŸ¸': '',
    'ğŸº': '',
    'ğŸ»': '',
    'ğŸ¥': '',
    'ğŸ¤': '',
    'ğŸ§': '',
    'ğŸ“»': '',
    'ğŸ¬': '',
    'ğŸ®': '',
    'ğŸ•¹ï¸': '',
    'ğŸ²': '',
    'â™ ï¸': '',
    'â™¥ï¸': '',
    'â™¦ï¸': '',
    'â™£ï¸': '',
    'ğŸƒ': '',
    'ğŸ€„': '',
    'ğŸ´': '',
    'ğŸ¯': '',
    'ğŸ³': '',
    'ğŸ®': '',
    'ğŸ°': '',
    'ğŸ²': '',
    'ğŸ§©': '',
    'â™Ÿï¸': '',
    'ğŸª': '',
    'ğŸ­': '',
    'ğŸ¨': '',
    'ğŸ¬': '',
    'ğŸ¤': '',
    'ğŸ§': '',
    'ğŸ¼': '',
    'ğŸµ': '',
    'ğŸ¶': '',
    'ğŸ¹': '',
    'ğŸ¥': '',
    'ğŸ·': '',
    'ğŸº': '',
    'ğŸ¸': '',
    'ğŸ»': '',
    'ğŸ¯': '',
    'ğŸ¹': '',
    'ğŸ£': '',
    'ğŸ¥Š': '',
    'ğŸ¥‹': '',
    'ğŸ½': '',
    'ğŸ›¹': '',
    'ğŸ›·': '',
    'â›¸ï¸': '',
    'ğŸ¥Œ': '',
    'ğŸ¿': '',
    'â›·ï¸': '',
    'ğŸ‚': '',
    'ğŸª‚': '',
    'ğŸ‹ï¸': '',
    'ğŸ¤¼': '',
    'ğŸ¤¸': '',
    'â›¹ï¸': '',
    'ğŸ¤º': '',
    'ğŸ¤¾': '',
    'ğŸŒï¸': '',
    'ğŸ‡': '',
    'ğŸ§˜': '',
    'ğŸ„': '',
    'ğŸŠ': '',
    'ğŸ¤½': '',
    'ğŸš£': '',
    'ğŸ§—': '',
    'ğŸšµ': '',
    'ğŸš´': '',
    'ğŸ†': '',
    'ğŸ¥‡': '',
    'ğŸ¥ˆ': '',
    'ğŸ¥‰': '',
    'ğŸ…': '',
    'ğŸ–ï¸': '',
    'ğŸµï¸': '',
    'ğŸ—ï¸': '',
    'ğŸ«': '',
    'ğŸŸï¸': '',
    'ğŸª': '',
    'ğŸ¤¹': '',
    'ğŸ­': '',
    'ğŸ©°': '',
    'ğŸ¨': '',
    'ğŸ¬': '',
    'ğŸ¤': '',
    'ğŸ§': '',
    'ğŸ¼': '',
    'ğŸµ': '',
    'ğŸ¶': '',
    'ğŸ¹': '',
    'ğŸ¥': '',
    'ğŸ·': '',
    'ğŸº': '',
    'ğŸ¸': '',
    'ğŸ»': '',
    'ğŸª•': '',
    'ğŸ¯': '',
    'ğŸ³': '',
    'ğŸ®': '',
    'ğŸ°': '',
    'ğŸ²': '',
    'ğŸ§©': '',
    'ğŸƒ': '',
    'ğŸ€„': '',
    'ğŸ´': '',
    'ğŸ­': '',
    'ğŸ–¼ï¸': '',
    'ğŸ¨': '',
    'ğŸ§µ': '',
    'ğŸª¡': '',
    'ğŸ§¶': '',
    'ğŸª¢': '',
}

# Apply replacements
for emoji, replacement in emoji_replacements.items():
    content = content.replace(emoji, replacement)

# Remove any remaining emoji characters using regex
content = re.sub(r'[\U0001F600-\U0001F64F]', '', content)  # emoticons
content = re.sub(r'[\U0001F300-\U0001F5FF]', '', content)  # symbols & pictographs
content = re.sub(r'[\U0001F680-\U0001F6FF]', '', content)  # transport & map symbols
content = re.sub(r'[\U0001F1E0-\U0001F1FF]', '', content)  # flags (iOS)
content = re.sub(r'[\U00002600-\U000027BF]', '', content)  # misc symbols
content = re.sub(r'[\U0001f900-\U0001f9ff]', '', content)  # supplemental symbols

# Clean up any double spaces
content = re.sub(r'  +', ' ', content)

# Write the file back
with open('backend/app/main.py', 'w', encoding='utf-8') as f:
    f.write(content)

print("Fixed emoji characters in backend/app/main.py")
